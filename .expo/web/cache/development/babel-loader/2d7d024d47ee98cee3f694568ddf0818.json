{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { db } from \"../../database/firebase\";\nexport var useCategories = function useCategories() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var mapResults = useCallback(function _callee(querySnapshot) {\n    var data, _iterator, _step, doc, category;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = [];\n\n            for (_iterator = _createForOfIteratorHelperLoose(querySnapshot.docs); !(_step = _iterator()).done;) {\n              doc = _step.value;\n              category = doc.data();\n              category.id = doc.id;\n              data.push(category);\n            }\n\n            return _context.abrupt(\"return\", data);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n  useEffect(function () {\n    setLoading(true);\n    db.collection('categories').onSnapshot(function _callee2(querySnapshot) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              mapResults(querySnapshot).then(function (result) {\n                setLoading(false);\n                setCategories(result);\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n  }, []);\n  return {\n    categories: categories,\n    loading: loading\n  };\n};","map":{"version":3,"sources":["C:/Users/Samar/Documents/projects/servicesapp/servicesapp/src/hooks/useCategories.js"],"names":["useCallback","useEffect","useState","db","useCategories","categories","setCategories","loading","setLoading","mapResults","querySnapshot","data","docs","doc","category","id","push","collection","onSnapshot","then","result"],"mappings":";;;;;;;;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,EAAT;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,kBAAoCF,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOG,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA8BJ,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOK,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,UAAU,GAAGT,WAAW,CAAC,iBAAOU,aAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACvBC,YAAAA,IADuB,GAChB,EADgB;;AAG7B,6DAAkBD,aAAa,CAACE,IAAhC,iCAAsC;AAA3BC,cAAAA,GAA2B;AAC9BC,cAAAA,QAD8B,GACnBD,GAAG,CAACF,IAAJ,EADmB;AAEpCG,cAAAA,QAAQ,CAACC,EAAT,GAAcF,GAAG,CAACE,EAAlB;AACAJ,cAAAA,IAAI,CAACK,IAAL,CAAUF,QAAV;AACD;;AAP4B,6CAStBH,IATsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAU3B,EAV2B,CAA9B;AAYAV,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAL,IAAAA,EAAE,CAACc,UAAH,CAAc,YAAd,EAA4BC,UAA5B,CAAuC,kBAAOR,aAAP;AAAA;AAAA;AAAA;AAAA;AACrCD,cAAAA,UAAU,CAACC,aAAD,CAAV,CAA0BS,IAA1B,CAA+B,UAACC,MAAD,EAAY;AACzCZ,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,gBAAAA,aAAa,CAACc,MAAD,CAAb;AACD,eAHD;;AADqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAvC;AAMD,GARQ,EAQN,EARM,CAAT;AAUA,SAAO;AACLf,IAAAA,UAAU,EAAVA,UADK;AAELE,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAID,CA9BM","sourcesContent":["import { useCallback, useEffect, useState } from 'react'\r\nimport { db } from '../../database/firebase'\r\n\r\nexport const useCategories = () => {\r\n  const [categories, setCategories] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const mapResults = useCallback(async (querySnapshot) => {\r\n    const data = []\r\n\r\n    for (const doc of querySnapshot.docs) {\r\n      const category = doc.data()\r\n      category.id = doc.id\r\n      data.push(category)\r\n    }\r\n\r\n    return data\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    db.collection('categories').onSnapshot(async (querySnapshot) => {\r\n      mapResults(querySnapshot).then((result) => {\r\n        setLoading(false)\r\n        setCategories(result)\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  return {\r\n    categories,\r\n    loading\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}